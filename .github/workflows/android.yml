name: ios
on:
  pull_request:
    branches:
      - main
  workflow_dispatch: {}
  workflow_call: 

env:
  GIT_CLONE_PATH: ${{ github.run_id }}
  
jobs:
# ***** Prepare ***** #
  prepare:
    runs-on: android
    steps:
      - name: Checkout code ðŸ‘€ ðŸ‘€ ðŸ‘€ 
        uses: actions/checkout@v3
        with:
          path: ${{ env.GIT_CLONE_PATH }}
      - name: Bundle update
        working-directory: ${{ env.GIT_CLONE_PATH }}
        run: |
          source ~/.zprofile
          bundle update
# ***** Build ***** #
  build:
    runs-on: android
    needs: prepare
    steps:
      - name: Build Android staging app for testing 
        run: echo "build Android staging app"   
# ***** Test app ***** #
  test_android_app:
    runs-on: android
    needs: build
    steps:
      - name: Test Android staging app for testing 
        run: echo "test Android app"
